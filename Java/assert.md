# Java의 Assert

assert라는 예약어는 대체 언제어디에 사용할 수 있을까?

## 사용법
```java
assert expression;
assert expression: errorMsg;
```
- 인자로 첫 번째는 인자로 boolean으로 평가되는 표현식 또는 값을 받아서 참이면 그냥 지나가고, 거짓이면 AssertionError 예외가 발생
- 두 번째는 표현식1이 거짓인 경우 두번째 표현식의 값이 예외 메세지로 보여지게 됨
- Assertion은 디버깅 용도로 사용되어서 JVM 기본 설정으로 프로그램을 실행하게 되면 assert문은 모두 실행에서 제외 된다
  -  assert가 동작하게 하려면 실행시 -ea 옵션을 사용해서 실행

## 유의점
- assert가 디버깅시에 사용될 때 단순히 로그를 찍어보는 정도가 아니라 특정 조건이 맞지 않으면 예외를 발생시키는 방식이라 예외처리와 혼동되어 사용되어질 가능성이 있다.
- 입력값의 검증이나 업무 로직의 체크는 예외처리를 사용해서 프로그램 해야한다. 예외가 발생했을때 상황을 로깅하고, 사용자에게 알려서 사용자가 대처할 수 있도록 해줘야 한다.
- assertion 조건에서 메서드를 호출하지 말 것 → 메서드 결과를 로컬 변수에 할당하고 해당 변수를 assert와 함께 사용

## Assert 사용 목적
- 사전 조건(pre-conditions) : 메소드를 호출할때 지켜야 하는 요구사항을 체크(private 메소드에만 사용합니다.)
- 사후 조건(post-conditions) : 코드를 수행할 결과 확신하는 값을 체크
- 클래스 불변성(class invariants) : 객체가 반드시 특정 상태에 있다고 확신하는 것을 검증
- public 메소드의 인자에 대해서는 Assertion을 사용하지 않는다.(누가 어떤 값을 넣을지 확신하지 못함.)

## assertion 유효성 검사 동작 방식
- JVM은 기본적으로 assertion 유효성 검사를 비활성화
- 비활성화 이유
  - 이전 버전의 호환성을 유지하기 위해
  - Java 1.4 이전에 assert는 예약어가 아니었기 때문에, 변수명 등으로 쓰일 수 있었음
  - 옵션을 통해 유효성 검사를 할 수 있음
  - 옵션과 상관 없이, 컴파일러는 컴파일을 함

