# JCF 자료구조의 초기용량을 지정하면 무엇이 좋은가?

JCF에서 가장 많이 사용되는 `ArrayList` 의 경우 기본 용량(capacity)는 10이며, 용량이 가득차면 기존 크기의 1.5배(oldCapacity + (oldCapacity >> 1))로 증가한다.

근데 이를 기본설정으로 생성하고 계속해서 리사이징이 발생하면 메모리의 효율성이 떨어지게된다.

하지만 미리 초기용량을 설정한다면 불필요한 리사이징 없이 크기가 고정되어 메모리를 아낄 수 있다.



정리하자면, JCF에서 가변 크기의 자료 구조를 사용하는 경우, 초기 용량을 설정하면 리사이징을 줄이고 메모리와 연산 비용을 절약할 수 있다.

## 로드팩터와 임계점

로드 팩터란 특정 크기의 자료구조에 데이터가 어느 정도 적재되었는지 나타내는 비율이다.

가변적인 크기를 가진 자료구조에서 크기를 증가시켜야하는 **`임계점(Threshold)`** 을 계산하기 위해서 사용된다.

예를 들어, JCF에서 HashMap의 경우에는 내부적으로 배열을 사용하며, 초기 사이즈는 16인데  이때, HashMap의 기준 로드 팩터는 0.75이므로 임계점은 **12(capacity * load factor = threshold) 이다**.

만약, HashMap 내부 배열의 사이즈가 12를 넘는 경우 내부 배열의 크기를 2배 늘리고, 재해싱을 수행한다.